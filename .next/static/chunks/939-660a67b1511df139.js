"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[939],{7678:(e,s,a)=>{a.d(s,{D:()=>u});var t=a(5155),l=a(2115),c=a(4247),r=a(3562),i=a(9606),n=a(1909),d=a(2675),o=a(8207),x=a(6855),m=a(6743),h=a(5828);let j=(0,h.createServerReference)("40fcdc1a3f812a5b9eb8f46640d49a2f893f411151",h.callServer,void 0,h.findSourceMapURL,"createProject");var p=a(5037),f=a(2818);function u(e){var s;let{isOpen:a,onClose:h,onSuccess:u}=e,[b,N]=(0,l.useState)(!1),{register:v,handleSubmit:y,formState:{errors:g},reset:w}=(0,i.mN)(),A=async e=>{N(!0);try{let s=await j({name:e.name,description:e.description,groupId:f.env.NEXT_PUBLIC_GITLAB_GROUP_ID||"nextjs"});s.success?(p.Ay.success("Project created successfully!"),w(),h(),null==u||u()):p.Ay.error(s.error||"Failed to create project")}catch(e){p.Ay.error("An unexpected error occurred"),console.error("Error creating project:",e)}finally{N(!1)}},P=()=>{b||(w(),h())};return(0,t.jsx)(c.N,{children:a&&(0,t.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:P}),(0,t.jsx)(r.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md",children:(0,t.jsxs)(o.Zp,{variant:"glass",className:"border-white/20",children:[(0,t.jsx)(o.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-r from-primary-500 to-secondary-500",children:(0,t.jsx)(x.A,{className:"h-6 w-6 text-white"})}),(0,t.jsx)(o.ZB,{className:"text-white",children:"Create New Project"})]}),(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:P,disabled:b,children:(0,t.jsx)(m.A,{className:"h-5 w-5"})})]})}),(0,t.jsx)(o.Wu,{children:(0,t.jsxs)("form",{onSubmit:y(A),className:"space-y-6",children:[(0,t.jsx)(d.p,{label:"Project Name",placeholder:"Enter project name (e.g., nextjs-demo14)",...v("name",{required:"Project name is required",pattern:{value:/^[a-z0-9-]+$/,message:"Project name must contain only lowercase letters, numbers, and hyphens"},minLength:{value:3,message:"Project name must be at least 3 characters"}}),error:null===(s=g.name)||void 0===s?void 0:s.message,helper:"This will be used as the GitLab repository name"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{className:"input-field w-full h-24 resize-none",placeholder:"Describe your project...",...v("description")})]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"What happens next?"}),(0,t.jsxs)("ul",{className:"text-xs text-white/60 space-y-1",children:[(0,t.jsx)("li",{children:"• GitLab repository will be created"}),(0,t.jsx)("li",{children:"• Next.js project will be scaffolded"}),(0,t.jsx)("li",{children:"• CI/CD pipeline will be configured"}),(0,t.jsx)("li",{children:"• Project will be deployed to test environment"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(n.$,{type:"button",variant:"secondary",onClick:P,disabled:b,className:"flex-1",children:"Cancel"}),(0,t.jsx)(n.$,{type:"submit",loading:b,className:"flex-1",children:"Create Project"})]})]})})]})})]})})}},3662:(e,s,a)=>{a.d(s,{U:()=>v});var t=a(5155),l=a(2115),c=a(7396),r=a(3562),i=a(8207),n=a(1909),d=a(4826),o=a(915),x=a(2526),m=a(7072),h=a(3594),j=a(351),p=a(8610),f=a(1096),u=a(3278);let b={ACTIVE:{color:"text-green-400",icon:d.A,bg:"bg-green-500/10"},INACTIVE:{color:"text-yellow-400",icon:o.A,bg:"bg-yellow-500/10"},DELETED:{color:"text-red-400",icon:x.A,bg:"bg-red-500/10"}},N={SUCCESS:{color:"text-green-400",icon:d.A},FAILED:{color:"text-red-400",icon:x.A},RUNNING:{color:"text-blue-400",icon:m.A},PENDING:{color:"text-yellow-400",icon:m.A},CANCELED:{color:"text-gray-400",icon:x.A},SKIPPED:{color:"text-gray-400",icon:m.A}};function v(e){let{project:s,onDelete:a,onTriggerPipeline:d}=e,[o,x]=(0,l.useState)(!1),m=b[s.status]||b.ACTIVE,v=s.pipelines[0],y=v?N[v.status]:null,g=async()=>{if(d){x(!0);try{await d(s.id)}finally{x(!1)}}};return(0,t.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,t.jsxs)(i.Zp,{variant:"glass",hover:!0,className:"h-full",children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(i.ZB,{className:"text-white text-xl mb-2",children:s.name}),s.description&&(0,t.jsx)("p",{className:"text-white/60 text-sm mb-3",children:s.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full ".concat(m.bg),children:[(0,t.jsx)(m.icon,{className:"h-4 w-4 ".concat(m.color)}),(0,t.jsx)("span",{className:"text-sm font-medium ".concat(m.color),children:s.status})]}),s.domain&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-white/60",children:[(0,t.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-primary-400"}),(0,t.jsx)("span",{className:"text-sm",children:s.domain})]})]})]})})}),(0,t.jsxs)(i.Wu,{children:[v&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-white/5 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm text-white/60",children:"Latest Pipeline"}),(0,t.jsx)("span",{className:"text-xs text-white/40",children:(0,u.A)(new Date(v.createdAt),{addSuffix:!0})})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.icon,{className:"h-4 w-4 ".concat(y.color)}),(0,t.jsx)("span",{className:"text-sm font-medium ".concat(y.color),children:v.status}),v.stage&&(0,t.jsxs)("span",{className:"text-xs text-white/40",children:["• ",v.stage]})]})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(n.$,{size:"sm",onClick:g,loading:o,className:"flex-1 sm:flex-none",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Deploy"]}),(0,t.jsx)(c.default,{href:"/projects/".concat(s.id),children:(0,t.jsxs)(n.$,{variant:"secondary",size:"sm",className:"flex-1 sm:flex-none",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"View"]})}),(0,t.jsx)("a",{href:s.gitlabUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 sm:flex-none",children:(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",className:"w-full",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"GitLab"]})}),a&&(0,t.jsxs)(n.$,{variant:"danger",size:"sm",onClick:()=>a(s.id),className:"flex-1 sm:flex-none",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-white/10",children:(0,t.jsxs)("div",{className:"flex justify-between text-xs text-white/60",children:[(0,t.jsxs)("span",{children:["Created ",(0,u.A)(new Date(s.createdAt),{addSuffix:!0})]}),(0,t.jsxs)("span",{children:[s.pipelines.length," pipelines"]})]})})]})]})})}},2675:(e,s,a)=>{a.d(s,{p:()=>r});var t=a(5155),l=a(2115),c=a(3463);let r=(0,l.forwardRef)((e,s)=>{let{className:a,label:l,error:r,helper:i,...n}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[l&&(0,t.jsx)("label",{className:"block text-sm font-medium text-github-text",children:l}),(0,t.jsx)("input",{className:(0,c.A)("input-field w-full",{"border-github-danger focus:border-github-danger focus:ring-github-danger/20":r},a),ref:s,...n}),r&&(0,t.jsx)("p",{className:"text-sm text-github-danger",children:r}),i&&!r&&(0,t.jsx)("p",{className:"text-sm text-github-text-tertiary",children:i})]})});r.displayName="Input"},5158:(e,s,a)=>{a.d(s,{J:()=>l});var t=a(5828);let l=(0,t.createServerReference)("009bc55086d7e742f55c8e8d86e8eedc47d17f9089",t.callServer,void 0,t.findSourceMapURL,"getProjects")},5029:(e,s,a)=>{a.d(s,{x:()=>l});var t=a(5828);let l=(0,t.createServerReference)("40e4dcc24163bd9baafc960f2b7aa64806332808df",t.callServer,void 0,t.findSourceMapURL,"deleteProject")},224:(e,s,a)=>{a.d(s,{E:()=>l});var t=a(5828);let l=(0,t.createServerReference)("60ec98b5edff83b1aeb2e028aacc7a677c1ebe5e8c",t.callServer,void 0,t.findSourceMapURL,"triggerProjectPipeline")}}]);