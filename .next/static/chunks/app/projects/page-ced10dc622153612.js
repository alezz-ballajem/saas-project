(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{5182:(e,t,s)=>{Promise.resolve().then(s.bind(s,5647))},5647:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(5155),a=s(2115),i=s(4651),n=s(3562),l=s(8207),c=s(1909),o=s(3662),d=s(7678),x=s(734),u=s(7564),h=s(9904);let m=a.forwardRef(function(e,t){let{title:s,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var j=s(1572),g=s(6855),p=s(5158),y=s(224),b=s(5029),f=s(5037);function v(){let{user:e,loading:t}=(0,i.A)(),[s,v]=(0,a.useState)([]),[w,N]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!0),[k,E]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&!t&&P()},[e,t]);let P=async()=>{try{let e=await (0,p.J)();v(e)}catch(e){console.error("Error loading projects:",e),f.Ay.error("Failed to load projects")}finally{C(!1)}},L=()=>{N(!0)},F=async e=>{try{let t=await (0,y.E)(e);t.success?(f.Ay.success("Pipeline triggered successfully!"),P()):f.Ay.error(t.error||"Failed to trigger pipeline")}catch(e){f.Ay.error("Failed to trigger pipeline")}},S=async e=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{let t=await (0,b.x)(e);t.success?(f.Ay.success("Project deleted successfully"),P()):f.Ay.error(t.error||"Failed to delete project")}catch(e){f.Ay.error("Failed to delete project")}},_=s.filter(e=>e.name.toLowerCase().includes(k.toLowerCase())||e.description&&e.description.toLowerCase().includes(k.toLowerCase()));return t||A?(0,r.jsx)("div",{className:"min-h-screen bg-github-bg flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-github-accent mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-github-text-secondary",children:"Loading projects..."})]})}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-github-bg",children:[(0,r.jsx)(x.Y,{}),(0,r.jsxs)("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-github-text mb-2",children:"Projects"}),(0,r.jsx)("p",{className:"text-github-text-secondary text-lg",children:"Manage and monitor your Next.js projects."})]}),(0,r.jsxs)(c.$,{onClick:L,children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Create Project"]})]})}),(0,r.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:(0,r.jsx)(l.Zp,{variant:"glass",children:(0,r.jsx)(l.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-github-text-tertiary"}),(0,r.jsx)("input",{type:"text",placeholder:"Search projects...",value:k,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-github-bg-secondary border border-github-border rounded-xl text-github-text placeholder-github-text-tertiary focus:border-github-accent focus:ring-2 focus:ring-github-accent/20 transition-all duration-300"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,r.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Filter"]})})]})})})}),(0,r.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:0===_.length?(0,r.jsx)(l.Zp,{variant:"glass",className:"text-center py-12",children:(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)(g.A,{className:"h-16 w-16 text-github-text-tertiary mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-github-text mb-2",children:k?"No projects found":"No projects yet"}),(0,r.jsx)("p",{className:"text-github-text-secondary mb-6",children:k?"Try adjusting your search terms.":"Create your first Next.js project to get started with automated deployments."}),!k&&(0,r.jsxs)(c.$,{onClick:L,children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Create Your First Project"]})]})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((e,t)=>(0,r.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,r.jsx)(o.U,{project:e,onTriggerPipeline:F,onDelete:S})},e.id))})})]}),(0,r.jsx)(u.w,{}),(0,r.jsx)(d.D,{isOpen:w,onClose:()=>N(!1),onSuccess:()=>{P()}})]}):(0,r.jsx)("div",{className:"min-h-screen bg-github-bg flex items-center justify-center",children:(0,r.jsx)(l.Zp,{variant:"glass",className:"max-w-md mx-auto",children:(0,r.jsxs)(l.Wu,{className:"p-8 text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-github-text mb-4",children:"Authentication Required"}),(0,r.jsx)("p",{className:"text-github-text-secondary mb-6",children:"Please sign in to view projects."}),(0,r.jsx)(c.$,{onClick:()=>window.location.href="/api/auth/signin",children:"Sign In"})]})})})}},1572:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(2115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},i),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[178,715,37,64,534,233,939,441,517,358],()=>t(5182)),_N_E=e.O()}]);